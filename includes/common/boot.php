<?php

/*
 * ---------------------------------------------------------------------------
 *  Define a custom include path
 * ---------------------------------------------------------------------------
 */

set_include_path('.' . DS . PATH_SEPARATOR . INCLUDE_DIR);

/*
 * ---------------------------------------------------------------------------
 * Core file inclusion
 * ---------------------------------------------------------------------------
 */

require 'common/constants.php';

require 'common/functions.php';

require 'common/exceptions.php';

require 'common/classes.php';

/*
 * ---------------------------------------------------------------------------
 *  Define a custom error handler to render better PHP errors
 * ---------------------------------------------------------------------------
 */

set_error_handler('_error_handler');

/*
 * ---------------------------------------------------------------------------
 * Boot
 * ---------------------------------------------------------------------------
 */

unset_globals(); # TODO : comment this if globals not registered on server
config_init();

/*
 * ---------------------------------------------------------------------------
 * Load core class(es)
 * ---------------------------------------------------------------------------
 */

Load::library('url');