diff drupal-7.10/includes/database/database.inc Sedra.framework/system/libraries/database/database.inc
1383a1384
>       require_once 'log.inc';
1497c1498,1500
<     global $databases;
---
>     static $databases;
>     if(!isset($databases))
>       $databases = config('databases');
1665c1668
<     require_once DRUPAL_ROOT . '/includes/database/' . $driver . '/database.inc';
---
>     require_once dirname(__FILE__) . "/$driver/database.inc";
diff drupal-7.10/includes/database/log.inc Sedra.framework/system/libraries/database/log.inc
147c147
<       if (strpos($stack[$i]['file'], 'includes' . DIRECTORY_SEPARATOR . 'database') === FALSE) {
---
>       if (strpos($stack[$i]['file'], 'libraries' . DIRECTORY_SEPARATOR . 'database') === FALSE) {
diff drupal-7.10/includes/database/query.inc Sedra.framework/system/libraries/database/query.inc
1915d1914
<     // $specials does not use drupal_static as its value never changes.
1939c1938
<       // do not need the more expensive drupal_strtoupper because SQL statements are ASCII.
---
>       // do not need the more expensive strtoupper because SQL statements are ASCII.
diff drupal-7.10/includes/database/select.inc Sedra.framework/system/libraries/database/select.inc
1251,1259d1250
<     // Modules may alter all queries or only those having a particular tag.
<     if (isset($this->alterTags)) {
<       $hooks = array('query');
<       foreach ($this->alterTags as $tag => $value) {
<         $hooks[] = 'query_' . $tag;
<       }
<       drupal_alter($hooks, $query);
<     }
< 